[settings]
disable_tools = ['python']
experimental = true
not_found_auto_install = false
idiomatic_version_file_enable_tools = ["[]"]

# # set arbitrary env vars to be used whenever in this project or subprojects
# [env]
# NODE_ENV = "development"
# NPM_CONFIG_PREFIX = "~/.npm-global"
# EDITOR = "code --wait"
#
# mise.file = ".env"                # load vars from a dotenv file
# mise.path = "./node_modules/.bin" # add a directory to PATH

[tools]
bun = ['latest']
deno = ['latest']
go = ['latest']
node = ['22.16.0', '20.11.0', '20.10.0', 'latest']
ruby = ['latest']
rust = ['latest']
usage = ['latest']

[tasks.bootstrap]
description = "Bootstrap our CLI"
run = "mise upgrade"

[tasks.claude]
description = "Run Claude with skip-permissions and continue fallback"
run = "command claude --dangerously-skip-permissions --continue || command claude --dangerously-skip-permissions"

[tasks.claude-resume]
description = "Run Claude with skip-permissions and resume fallback"
run = "command claude --dangerously-skip-permissions --resume || command claude --dangerously-skip-permissions"

[tasks.codex]
description = "Run Codex with auto-approve-everything and resume fallback"
run = "codex --dangerously-auto-approve-everything resume || codex --dangerously-auto-approve-everything"

[tasks.copilot]
description = "Run Copilot with allow-all-tools and resume fallback"
run = "command copilot --allow-all-tools --resume || command copilot --allow-all-tools"

[tasks."llm:git-branch-name"]
description = "Generate GitHub branch name repository from git diff using LLM generation"
run = "command git diff --cached | command llm prompt --model gpt-5-mini --no-stream --template ~/.config/prompts/git-branch-name.yaml"

[tasks."llm:git-commit-msg"]
description = "Generate GitHub comment message from git diff using LLM generation"
run = "command git diff --cached | command llm prompt --model gpt-5-mini --no-stream --template ~/.config/prompts/git-commit-msg.yaml"

[tasks."llm:git-commit-msg-auto"]
description = "Automatically commit changes with a generated commit message from git diff using LLM generation"
run = "command git commit -m \"$(command git diff --cached | command llm prompt --model gpt-5-mini --no-stream --template ~/.config/prompts/git-commit-msg.yaml)\""
